function enableEn(){$("[id*='_ifr']").contents().find("#tinymce").bnKb({switchkey:{webkit:"k",mozilla:"y",safari:"k",chrome:"k",msie:"y"},driver:window.basic})}function enablePhonetic(){$("[id*='_ifr']").contents().find("#tinymce").bnKb({switchkey:{webkit:"k",mozilla:"y",safari:"k",chrome:"k",msie:"y"},driver:window.phonetic})}function enableProbhat(){$("[id*='_ifr']").contents().find("#tinymce").bnKb({switchkey:{webkit:"k",mozilla:"y",safari:"k",chrome:"k",msie:"y"},driver:window.probhat})}function enableBijoy(){$("[id*='_ifr']").contents().find("#tinymce").bnKb({switchkey:{webkit:"k",mozilla:"y",safari:"k",chrome:"k",msie:"y"},driver:window.bijoy})}window.basic={keymaps:{},supportIntellisense:!1},window.probhat={keymaps:{"`":"‍","~":"~",1:"১",2:"২",3:"৩",4:"৪",5:"৫",6:"৬",7:"৭",8:"৮",9:"৯",0:"০","-":"-","=":"=","!":"!","@":"@","#":"#",$:"৳","%":"%","^":"^","&":"ঞ","*":"ৎ","(":"(",")":")",_:"_","+":"+",q:"দ",Q:"ধ",w:"ূ",W:"ঊ",e:"ী",E:"ঈ",r:"র",R:"ড়",t:"ট",T:"ঠ",y:"এ",Y:"ঐ",u:"ু",U:"উ",i:"ি",I:"ই",o:"ও",O:"ঔ",p:"প",P:"ফ","[":"ে","{":"ৈ","]":"ো","}":"ৌ","\\":"‌","|":"॥",a:"া",A:"অ",s:"স",S:"ষ",d:"ড",D:"ঢ",f:"ত",F:"থ",g:"গ",G:"ঘ",h:"হ",H:"ঃ",j:"জ",J:"ঝ",k:"ক",K:"খ",l:"ল",L:"ং",";":";",":":":",z:"য়",Z:"য",x:"শ",X:"ঢ়",c:"চ",C:"ছ",v:"আ",V:"ঋ",b:"ব",B:"ভ",n:"ন",N:"ণ",m:"ম",M:"ঙ",",":",","<":"ৃ",".":"।","..":"॥",">":"ঁ","/":"্","?":"?"},supportIntellisense:!1},window.bijoy={keymaps:{0:"০",1:"১",2:"২",3:"৩",4:"৪",5:"৫",6:"৬",7:"৭",8:"৮",9:"৯",a:"ৃ",A:"র্",d:"ি",D:"ী",s:"ু",S:"ূ",f:"া",F:"অ",g:"্",G:"।",h:"ব",H:"ভ",j:"ক",J:"খ",k:"ত",K:"থ",l:"দ",L:"ধ",z:"্র",Z:"্য",x:"ও",X:"ৗ",c:"ে",C:"ৈ",v:"র",V:"ল",b:"ন",B:"ণ",n:"স",N:"ষ",m:"ম",M:"শ",q:"ঙ",Q:"ং",w:"য",W:"য়",e:"ড",E:"ঢ",r:"প",R:"ফ",t:"ট",T:"ঠ",y:"চ",Y:"ছ",u:"জ",U:"ঝ",i:"হ",I:"ঞ",o:"গ",O:"ঘ",p:"ড়",P:"ঢ়","&":"ঁ",$:"৳","`":"","~":"","\\":"ৎ","|":"ঃ"},supportIntellisense:!1},window.phonetic={keymaps:{k:"ক",0:"০",1:"১",2:"২",3:"৩",4:"৪",5:"৫",6:"৬",7:"৭",8:"৮",9:"৯",i:"ি",I:"ই",ii:"ী",II:"ঈ",e:"ে",E:"এ",U:"উ",u:"ু",uu:"ূ",UU:"ঊ",r:"র",WR:"ঋ",a:"া",A:"আ",ao:"অ",Ao:"অ",s:"স",t:"ট",K:"খ",kh:"খ",n:"ন",N:"ণ",T:"ত",Th:"থ",d:"ড",dh:"ঢ",b:"ব",bh:"ভ",v:"ভ",R:"ড়",Rh:"ঢ়",g:"গ",G:"ঘ",gh:"ঘ",h:"হ",NG:"ঞ",j:"জ",J:"ঝ",jh:"ঝ",c:"চ",ch:"ছ",C:"ছ",th:"ঠ",p:"প",f:"ফ",ph:"ফ",D:"দ",Dh:"ধ",z:"য",y:"য়",Ng:"ঙ",ng:"ং",l:"ল",m:"ম",sh:"শ",S:"ষ",O:"ও",ou:"জ",OU:"ঔ",Ou:"ঔ",Oi:"ঐ",OI:"ঐ",tt:"ৎ",H:"ঃ",".":"।","..":".",HH:"্‌",NN:"ঁ",Y:"্য",w:"্ব",W:"ৃ",wr:"ৃ",x:"ক্স",rY:"র‍্য",L:"ল",Z:"য",P:"প",V:"ভ",B:"ব",M:"ম",X:"ক্স",F:"ফ","+":"্","++":"+",o:"ো",oI:"ৈ",oU:"ৌ"},supportIntellisense:!0,intellisense:function(e,n){var i="aIiUuoiiouueEiEu";return(-1!=i.indexOf(n)&&-1!=i.indexOf(e)||" "==n&&-1!=i.indexOf(e))&&(carry=n+e,"ii"==carry||"uu"==carry?newkeystring=e:newkeystring=e.toUpperCase(),newcarry=n+newkeystring,mods={keystring:newkeystring,carry:newcarry},mods)}},function(e){var n,i,t,o="",r="b";e.fn.bnKb=function(i){var o={switchkey:{webkit:"k",mozilla:"y",safari:"k",chrome:"k",msie:"y"},driver:window.phonetic};n=e.extend(o,i),r="b",t="",e(this).unbind("keypress keydown keyup"),e(this).keyup(e.fn.bnKb.ku),e(this).keydown(e.fn.bnKb.kd),e(this).keypress(e.fn.bnKb.kp)},e.fn.bnKb.kp=function(a){var s=a.which,c=(s=a.keyCode?a.keyCode:a.which,String.fromCharCode(s));if("e"==r)return!0;if(!i){var l=t;if(t+=c,n.driver.supportIntellisense){var b=n.driver.intellisense(c,l);b&&(c=b.keystring,t=b.carry)}var k=n.driver.keymaps[t];return k?(e.fn.bnKb.iac(this,k,1),a.stopPropagation(),!1):(k=n.driver.keymaps[c],t=c,k?(e.fn.bnKb.iac(this,k,0),a.stopPropagation(),!1):(o="",!0))}e("#stat").html("Not Processing")},e.fn.bnKb.kd=function(e){var n=e.keyCode?e.keyCode:e.which,t=String.fromCharCode(n).toLowerCase();17!=n&&224!=n&&91!=n||(i=!0),i&&"y"==t&&(r="b"==r?"e":"b")},e.fn.bnKb.ku=function(e){var n=e.keyCode?e.keyCode:e.which;17!=n&&224!=n&&91!=n||(i=!1)},e.fn.bnKb.iac=function(e,n,i){var t=e,r=n;if(len=o.length,i||(len=0),document.selection)t.focus(),sel=document.selection.createRange(),t.value.length>=len&&sel.moveStart("character",-1*len),sel.text=r,sel.collapse(!0),sel.select();else if(t.selectionStart||0==t.selectionStart){t.focus();var a=t.selectionStart-len,s=t.selectionEnd,c=t.scrollTop;a=-1==a?t.value.length:a,t.value=t.value.substring(0,a)+r+t.value.substring(s,t.value.length),t.focus(),t.selectionStart=a+r.length,t.selectionEnd=a+r.length,t.scrollTop=c}else{c=t.scrollTop;t.value+=r,t.focus(),t.scrollTop=c}o=r,tinymce.execCommand("mceInsertContent",!1,r)}}(jQuery),tinymce.PluginManager.add("bangla-kb",function(e,n){return e.addButton("bangla-kb",{text:"Select KB",type:"menubutton",icon:!1,menu:[{text:"Normal Keyboard",onclick:enableEn},{text:"Phonetic (ফোনেটিক)",onclick:enablePhonetic},{text:"Probhat (প্রভাত)",onclick:enableProbhat},{text:"Bijoy (বিজয়)",onclick:enableBijoy}]}),{getMetadata:function(){return{name:"banglafkb",url:"https://github.com/bluedot-bd/bangla-kb"}}}});
